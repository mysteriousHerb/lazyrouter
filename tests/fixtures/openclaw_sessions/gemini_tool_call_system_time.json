{
  "description": "Real OpenClaw session: Gemini tool-calling flow (find system time and memory)",
  "api_style": "gemini",
  "step1_request": {
    "path": "models/auto:streamGenerateContent",
    "resolved_path": "models/gemini-3-flash-preview:streamGenerateContent",
    "upstream_path": "v1beta/models/gemini-3-flash-preview:streamGenerateContent",
    "resolved_model": "gemini-3-flash-preview",
    "body": {
      "contents": [
        {
          "role": "user",
          "parts": [
            {
              "text": "hi can you do a tool call, like find system time and memory usage"
            }
          ]
        }
      ],
      "systemInstruction": {
        "parts": [
          {
            "text": "You are a helpful assistant. Use the provided tools when appropriate to answer user questions."
          }
        ],
        "role": "user"
      },
      "tools": [
        {
          "function_declarations": [
            {
              "name": "get_weather",
              "description": "Get current weather for a location",
              "parameters": {
                "type": "object",
                "properties": {
                  "location": {
                    "type": "string",
                    "description": "City name or location"
                  }
                },
                "required": [
                  "location"
                ]
              }
            },
            {
              "name": "get_time",
              "description": "Get current system time",
              "parameters": {
                "type": "object",
                "properties": {},
                "required": []
              }
            }
          ]
        }
      ],
      "generationConfig": {
        "maxOutputTokens": 32000
      }
    }
  },
  "step1_response_chunks": [
    "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\": {\"name\": \"session_status\",\"args\": {}},\"thoughtSignature\": \"EjQKMgG+Pvb7Ng9LI41q7X3ZcoFB6o7wKy0mfTjsOPthHJyZ6NQc/9z6RZEO8Zvfg2tW/53p\"}],\"role\": \"model\"},\"index\": 0}],\"usageMetadata\": {\"promptTokenCount\": 14244,\"candidatesTokenCount\": 10,\"totalTokenCount\": 14254,\"promptTokensDetails\": [{\"modality\": \"TEXT\",\"tokenCount\": 14244}]},\"modelVersion\": \"gemini-3-flash-preview\",\"responseId\": \"hKWTab-wCruNjMcP5uDdmAU\"}\n\n",
    "data: {\"candidates\": [{\"content\": {\"parts\": [{\"text\": \"\"}],\"role\": \"model\"},\"finishReason\": \"STOP\",\"index\": 0}],\"usageMetadata\": {\"promptTokenCount\": 14244,\"candidatesTokenCount\": 10,\"totalTokenCount\": 14254,\"promptTokensDetails\": [{\"modality\": \"TEXT\",\"tokenCount\": 14244}]},\"modelVersion\": \"gemini-3-flash-preview\",\"responseId\": \"hKWTab-wCruNjMcP5uDdmAU\"}\n\n"
  ],
  "step1_latency_ms": 2313.0,
  "step2_request": {
    "path": "models/auto:streamGenerateContent",
    "resolved_path": "models/gemini-3-flash-preview:streamGenerateContent",
    "upstream_path": "v1beta/models/gemini-3-flash-preview:streamGenerateContent",
    "resolved_model": "gemini-3-flash-preview",
    "body": {
      "contents": [
        {
          "role": "user",
          "parts": [
            {
              "text": "hi can you do a tool call, like find system time and memory usage"
            }
          ]
        },
        {
          "parts": [
            {
              "functionCall": {
                "args": {},
                "name": "session_status"
              },
              "thoughtSignature": "EjQKMgG+Pvb7Ng9LI41q7X3ZcoFB6o7wKy0mfTjsOPthHJyZ6NQc/9z6RZEO8Zvfg2tW/53p"
            }
          ],
          "role": "model"
        },
        {
          "parts": [
            {
              "functionResponse": {
                "name": "session_status",
                "response": {
                  "output": "ü¶û OpenClaw 2026.2.15 (3fe22ea)\nüïí Time: Monday, February 16th, 2026 ‚Äî 11:17 PM (UTC)\nüß† Model: lazyrouter-test/auto ¬∑ üîë api-key not-‚Ä¶eded (models.json)\nüßÆ Tokens: 14k in / 463 out\nüìö Context: 14k/200k (7%) ¬∑ üßπ Compactions: 0\nüßµ Session: agent:lazyrouter-tester:telegram:lazyrouter-tester:direct:6894812299 ‚Ä¢ updated just now\n‚öôÔ∏è Runtime: direct ¬∑ Think: off ¬∑ elevated\nü™¢ Queue: collect (depth 0)"
                }
              }
            }
          ],
          "role": "user"
        }
      ],
      "systemInstruction": {
        "parts": [
          {
            "text": "You are a helpful assistant. Use the provided tools when appropriate to answer user questions."
          }
        ],
        "role": "user"
      },
      "tools": [
        {
          "function_declarations": [
            {
              "name": "get_weather",
              "description": "Get current weather for a location",
              "parameters": {
                "type": "object",
                "properties": {
                  "location": {
                    "type": "string",
                    "description": "City name or location"
                  }
                },
                "required": [
                  "location"
                ]
              }
            },
            {
              "name": "get_time",
              "description": "Get current system time",
              "parameters": {
                "type": "object",
                "properties": {},
                "required": []
              }
            }
          ]
        }
      ],
      "generationConfig": {
        "maxOutputTokens": 32000
      }
    }
  },
  "step2_response_chunks": [
    "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\": {\"name\": \"exec\",\"args\": {\"command\": \"free -h && uptime\"}},\"thoughtSignature\": \"EjQKMgG+Pvb7KW6+l91DUiQ0Hbp4OF/3RAnog6psLynMDS5SHsa4GN4ayG/cXwRE2UI7pDUK\"}],\"role\": \"model\"},\"index\": 0}],\"usageMetadata\": {\"promptTokenCount\": 14442,\"candidatesTokenCount\": 18,\"totalTokenCount\": 14460,\"promptTokensDetails\": [{\"modality\": \"TEXT\",\"tokenCount\": 14442}]},\"modelVersion\": \"gemini-3-flash-preview\",\"responseId\": \"iKWTafurGvfXjMcPl7yUyAQ\"}\n\n",
    "data: {\"candidates\": [{\"content\": {\"parts\": [{\"text\": \"\"}],\"role\": \"model\"},\"finishReason\": \"STOP\",\"index\": 0}],\"usageMetadata\": {\"promptTokenCount\": 14442,\"candidatesTokenCount\": 18,\"totalTokenCount\": 14460,\"promptTokensDetails\": [{\"modality\": \"TEXT\",\"tokenCount\": 14442}]},\"modelVersion\": \"gemini-3-flash-preview\",\"responseId\": \"iKWTafurGvfXjMcPl7yUyAQ\"}\n\n"
  ],
  "step2_latency_ms": 4203.0
}